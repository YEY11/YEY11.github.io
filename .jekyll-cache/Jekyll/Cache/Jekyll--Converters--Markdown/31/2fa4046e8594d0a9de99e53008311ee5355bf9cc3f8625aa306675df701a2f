I"á<!-- æ•°å­¦å…¬å¼ -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>

<h1 id="lecture-04-å¯¼è®º-4">Lecture 04 å¯¼è®º (4)</h1>
<p>ä¸ŠèŠ‚è¯¾ä¸­æˆ‘ä»¬å›é¡¾äº†çº¿æ€§æ¨¡å‹ä¸­çš„å‡è®¾æ£€éªŒã€ç½®ä¿¡åŒºé—´å’Œæ¨¡å‹è¯Šæ–­çš„ç›¸å…³å†…å®¹ï¼Œè¿™èŠ‚è¯¾æ˜¯å¯¼è®ºä¸­çš„æœ€åä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å›é¡¾çº¿æ€§æ¨¡å‹ä¸­ä½™ä¸‹çš„å†…å®¹ã€‚</p>

<p>åœ¨è¿™èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†ä¸»è¦å›é¡¾ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
  <li>é²æ£’å›å½’</li>
  <li>åŠ æƒæœ€å°äºŒä¹˜</li>
  <li>å˜æ¢</li>
  <li>å˜é‡é€‰æ‹©</li>
</ul>

<h2 id="10-é²æ£’å›å½’">10. é²æ£’å›å½’</h2>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœéšæœºè¯¯å·®é¡¹æœä»æ­£æ€åˆ†å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ­£æ€çº¿æ€§å›å½’æ¨¡å‹ã€‚ä½†æ˜¯æœ‰æ—¶ï¼Œæˆ‘ä»¬åœ¨æ•°æ®é›†ä¸­ä¼šç¢°åˆ°ä¸€äº›å…·æœ‰é«˜æ æ†å€¼çš„ç‚¹æˆ–è€…å½±å“ç‚¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ­£æ€çº¿æ€§å›å½’æ¨¡å‹å¯èƒ½æ²¡æœ‰åŠæ³•å¾ˆå¥½åœ°æ‹Ÿåˆæ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ™®é€šæœ€å°äºŒä¹˜æ³•å¯¹äºé•¿å°¾è¯¯å·®ï¼ˆlon g -tailed errorsï¼‰çš„è¡¨ç°éå¸¸å·®ã€‚å› æ­¤ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸€ç§æ›´å…·é²æ£’æ€§çš„æ–¹æ³•æ›¿ä»£æœ€å°äºŒä¹˜æ³•ã€‚</p>

<p>æ™®é€šæœ€å°äºŒä¹˜æ³•çš„æŸå¤±å‡½æ•°ä¸ºå¹³æ–¹æŸå¤±å‡½æ•°ï¼š$\text{LS loss}=(\hat{\mathbf y}-\mathbf y)^2$</p>

<p>åœ¨é²æ£’å›å½’ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šé‡‡ç”¨å¹³æ–¹æŸå¤±å‡½æ•°ã€‚å¯¹äºé²æ£’å›å½’ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„æŸå¤±å‡½æ•°ï¼Œå…¶ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„ä¸€ç§æ˜¯ Huber æŸå¤±å‡½æ•°ï¼š</p>

<script type="math/tex; mode=display">% <![CDATA[
\text{Huber loss}=\begin{cases}c\cdot|\hat{\mathbf y}-\mathbf y|, &\quad \text{if}\;\;|\hat{\mathbf y}-\mathbf y|> a\\
(\hat{\mathbf y}-\mathbf y)^2 , &\quad \text{if}\;\;|\hat{\mathbf y}-\mathbf y|< a \\
-c\cdot|\hat{\mathbf y}-\mathbf y|, &\quad \text{if}\;\;|\hat{\mathbf y}-\mathbf y|< -a
\end{cases} %]]></script>

<p>ä¸¤ç§æŸå¤±å‡½æ•°çš„å›¾åƒå¦‚ä¸‹ï¼š</p>

<p><img src="http://andy-blog.oss-cn-beijing.aliyuncs.com/blog/2020-04-03-Squared-error-and-Huber-loss-functions-For-small-error-th-squared-error-loss-and-Huber.png" width="40%" /></p>

<p>å¯ä»¥çœ‹åˆ°ï¼Œå¹³æ–¹æŸå¤±å‡½æ•°çš„å›¾åƒæ˜¯ä¸€æ¡æŠ›ç‰©çº¿ï¼Œè€Œ Huber æŸå¤±å‡½æ•°çš„å›¾åƒåœ¨ $[-a,a]$ ä¹‹é—´æ˜¯æŠ›ç‰©çº¿ï¼Œè€Œåœ¨ $[-\infty,-a]$ å’Œ $[a,\infty]$ ä¹‹é—´ä¸ºç›´çº¿ã€‚</p>

<p>æˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ä¹‹å‰çš„æ™®é€šæœ€å°äºŒä¹˜æ³•æ‹Ÿåˆçš„çº¿æ€§æ¨¡å‹ <code class="highlighter-rouge">lmodi</code>ï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; summary(lmodi)

Call:
lm(formula = undercount ~ cperAA + cpergore * usage + equip, 
    data = gavote)

Residuals:
      Min        1Q    Median        3Q       Max 
-0.059530 -0.012904 -0.002180  0.009013  0.127496 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          0.043297   0.002839  15.253  &lt; 2e-16 ***
cperAA               0.028264   0.031092   0.909   0.3648    
cpergore             0.008237   0.051156   0.161   0.8723    
usageurban          -0.018637   0.004648  -4.009 9.56e-05 ***
equipOS-CC           0.006482   0.004680   1.385   0.1681    
equipOS-PC           0.015640   0.005827   2.684   0.0081 ** 
equipPAPER          -0.009092   0.016926  -0.537   0.5920    
equipPUNCH           0.014150   0.006783   2.086   0.0387 *  
cpergore:usageurban -0.008799   0.038716  -0.227   0.8205    
---
Signif. codes:  0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1

Residual standard error: 0.02335 on 150 degrees of freedom
Multiple R-squared:  0.1696,	Adjusted R-squared:  0.1253 
F-statistic: 3.829 on 8 and 150 DF,  p-value: 0.0004001
</code></pre></div></div>

<p>åœ¨ R ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">MASS</code> package ä¸­çš„ <code class="highlighter-rouge">rlm()</code> å‘½ä»¤æ¥æ„å»ºé²æ£’çº¿æ€§æ¨¡å‹ã€‚</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; library(MASS)
&gt; rlmodi &lt;- rlm(undercount ~ cperAA+cpergore*usage+equip, gavote)
&gt; summary(rlmodi)

Call: rlm(formula = undercount ~ cperAA + cpergore * usage + equip, 
    data = gavote)
Residuals:
       Min         1Q     Median         3Q        Max 
-6.026e-02 -1.165e-02 -6.587e-06  1.100e-02  1.379e-01 

Coefficients:
                    Value   Std. Error t value
(Intercept)          0.0414  0.0023    17.8662
cperAA               0.0327  0.0254     1.2897
cpergore            -0.0082  0.0418    -0.1972
usageurban          -0.0167  0.0038    -4.4063
equipOS-CC           0.0069  0.0038     1.8019
equipOS-PC           0.0081  0.0048     1.6949
equipPAPER          -0.0059  0.0138    -0.4269
equipPUNCH           0.0170  0.0055     3.0720
cpergore:usageurban  0.0073  0.0316     0.2298

Residual standard error: 0.01722 on 150 degrees of freedom
</code></pre></div></div>

<p>å¯¹æ¯”ä¹‹å‰çš„æ¨¡å‹ <code class="highlighter-rouge">lmodi</code>ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°é¢„æµ‹å˜é‡ <code class="highlighter-rouge">equipOS-PC</code> çš„ç³»æ•°ä»ä¹‹å‰çš„ $0.015640$ é™åˆ°äº† $0.0081$ï¼Œå‡ ä¹å‡å°äº†ä¸€åŠã€‚å›å¿†ä¸ŠèŠ‚è¯¾çš„ <a href="">åº“å…‹è·ç¦»çš„è¯Šæ–­å›¾ï¼Œæˆ‘ä»¬çŸ¥é“</a></p>

<p>å¤§éƒ¨åˆ†çš„é¢„æµ‹å˜é‡çš„ç³»æ•°å¹¶æ²¡æœ‰å‘ç”Ÿå¤ªå¤§å˜åŒ–ï¼Œ</p>

<p>ä¸‹èŠ‚å†…å®¹ï¼šå¯¼è®º (4)</p>
:ET