I"ü;<!-- æ•°å­¦å…¬å¼ -->
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>

<h1 id="workshop-01-åˆ©ç”¨-nltk-è¿›è¡Œé¢„å¤„ç†">Workshop 01 åˆ©ç”¨ NLTK è¿›è¡Œé¢„å¤„ç†</h1>

<p>é¦–å…ˆï¼Œå¦‚æœä½ ä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡ iPython notebooksï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨æ­¤å·¥ä½œå†Œä¸Šè¿è¡Œä»£ç ï¼Œä½ å¯ä»¥é€‰ä¸­ä¸€ä¸ª code cell ä¹‹åï¼Œç‚¹å‡» Cell èœå•é‡Œçš„è¿è¡Œå‘½ä»¤ï¼Œæˆ–è€…æŒ‰ä¸€ä¸‹é”®ç›˜ä¸Šçš„ <code class="highlighter-rouge">shift</code> + <code class="highlighter-rouge">enter</code>ã€‚é€šå¸¸ï¼Œä¸ºäº†ä½¿ä»£ç èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œä½ éœ€è¦æŒ‰ç…§ç¨‹åºçš„é¡ºåºè¿è¡Œ cellsã€‚ä¸€ä¸ªç»™å®šçš„ cell çš„è¾“å‡ºï¼ˆåŒ…æ‹¬å›¾è¡¨åœ¨å†…çš„ä»»ä½•ç»“æœï¼‰ä¼šåœ¨ä»£ç è¿è¡Œå®Œæ¯•ä¹‹åæ˜¾ç¤ºåœ¨ä»£ç ä¸‹æ–¹ã€‚ä¸ºäº†ç¡®ä¿ä¸€åˆ‡é¡ºåˆ©ï¼Œè¯·å°è¯•è¿è¡Œä¸‹é¢çš„ä»£ç ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">)</span>
</code></pre></div></div>

<p>è¾“å‡ºï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hello world
</code></pre></div></div>

<p>å¥½çš„ï¼Œç°åœ¨è®©æˆ‘ä»¬å¯¹ä¸€æ®µæ¥è‡ªç­çº§è¯¾ç¨‹ç½‘ç«™çš„ html ç‰‡æ®µè¿›è¡Œä¸€äº›ç®€å•çš„é¢„å¤„ç†ï¼š</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>text = '''
<span class="nt">&lt;body&gt;</span>
    <span class="c">&lt;!-- JavaScript plugins (requires jQuery) --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://code.jquery.com/jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="c">&lt;!-- Include all compiled plugins (below), or include individual files as needed --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"js/bootstrap.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page-header"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h3&gt;</span>COMP90042 Natural Language Processing<span class="nt">&lt;/h3&gt;</span>
<span class="nt">&lt;/div&gt;</span>

The aims for this subject is for students to develop an understanding of the main algorithms used in natural 
language processing, for use in a diverse range of applications including text classification, machine 
translation, and question answering. Topics to be covered include part-of-speech tagging, n-gram language 
modelling, syntactic parsing and deep learning. The programming language used is Python, see 
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"python.html"</span><span class="nt">&gt;</span>the detailed configuration instructions<span class="nt">&lt;/a&gt;</span> for more information on its use in the 
workshops, assignments and installation at home.
<span class="nt">&lt;/body&gt;</span>
'''
</code></pre></div></div>

<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ç§»é™¤ html æ ‡è®°ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">"&lt;[^&gt;]+&gt;"</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<p>è¾“å‡ºï¼š</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>COMP90042 Natural Language Processing


The aims for this subject is for students to develop an understanding of the main algorithms used in natural 
language processing, for use in a diverse range of applications including text classification, machine 
translation, and question answering. Topics to be covered include part-of-speech tagging, n-gram language 
modelling, syntactic parsing and deep learning. The programming language used is Python, see 
the detailed configuration instructions for more information on its use in the 
workshops, assignments and installation at home.
</code></pre></div></div>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°ï¼šåœ¨æ ‡é¢˜å’Œæ­£æ–‡ä¹‹é—´æœ‰ä¸‰ä¸ªæ¢è¡Œç¬¦ï¼Œå¹¶ä¸”æ–‡æœ¬å†…ä¹Ÿæœ‰ä¸€äº›æ¢è¡Œç¬¦ã€‚æˆ‘ä»¬çš„å¥å­åˆ†å‰²å™¨ï¼ˆsentence tokenizerï¼‰å°†æ— æ³•æ­£ç¡®åœ°å¤„ç†æ ‡é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶åˆ é™¤ï¼Œç„¶åå°†å…¶ä»–æ¢è¡Œç¬¦æ›´æ”¹ä¸ºç©ºæ ¼ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"</span><span class="se">\n\n\n</span><span class="s">"</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="s">" "</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The aims for this subject is for students to develop an understanding of the main algorithms used in natural  language processing, for use in a diverse range of applications including text classification, machine  translation, and question answering. Topics to be covered include part-of-speech tagging, n-gram language  modelling, syntactic parsing and deep learning. The programming language used is Python, see  the detailed configuration instructions for more information on its use in the  workshops, assignments and installation at home.
</code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>The aims for this subject is for students to develop an understanding of the main algorithms used in natural  language processing, for use in a diverse range of applications including text classification, machine  translation, and question answering. Topics to be covered include part-of-speech tagging, n-gram language  modelling, syntactic parsing and deep learning. The programming language used is Python, see  the detailed configuration instructions for more information on its use in the  workshops, assignments and installation at home.
</code></pre></div></div>

<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬å°†æ–‡æœ¬åˆ†å‰²æˆå¥å­ã€‚è™½ç„¶åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåƒ â€œæŒ‰ç…§å¥å·è¿›è¡Œåˆ†å‰² <code class="highlighter-rouge">split(".")</code>â€ è¿™ç§ç®€å•çš„æ–¹æ³•å·²ç»å®Œå…¨å¤Ÿç”¨äº†ï¼Œä½†æ˜¯ï¼Œè®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ <code class="highlighter-rouge">NLTK</code> ä¸­çš„è‹±æ–‡åˆ†å¥æ¨¡å— <code class="highlighter-rouge">pickle</code>ï¼Œå®ƒå¯ä»¥å¤„ç†æ–‡æœ¬ä¸­å¯èƒ½å‡ºç°çš„æ›´åŠ å¤æ‚çš„æƒ…å†µï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s">'punkt'</span><span class="p">)</span>
<span class="n">sent_segmenter</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">'tokenizers/punkt/english.pickle'</span><span class="p">)</span>

<span class="n">sentences</span> <span class="o">=</span> <span class="n">sent_segmenter</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['The aims for this subject is for students to develop an understanding of the main algorithms used in natural  language processing, for use in a diverse range of applications including text classification, machine  translation, and question answering.', 'Topics to be covered include part-of-speech tagging, n-gram language  modelling, syntactic parsing and deep learning.', 'The programming language used is Python, see  the detailed configuration instructions for more information on its use in the  workshops, assignments and installation at home.']


[nltk_data] Downloading package punkt to /Users/laujh/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
</code></pre></div></div>

<p>NLTK also has a word tokenizer. For the first sentence, letâ€™s compare a naive split using spaces and the NTLK regex tokenizer</p>

<p>NLTK ä¹Ÿæä¾›äº†åˆ†è¯å™¨ï¼ˆword tokenizerï¼‰ã€‚å¯¹äºç¬¬ä¸€ä¸ªå¥å­ï¼Œè®©æˆ‘ä»¬å¯¹æ¯”ä¸€ä¸‹ç®€å•çš„ç©ºæ ¼ <code class="highlighter-rouge">split()</code> æ–¹æ³•å’Œ NLTK ä¸­çš„æ­£åˆ™åˆ†è¯å™¨ï¼ˆregex tokenizerï¼‰æ¨¡å— <code class="highlighter-rouge">WordPunctTokenizer()</code>ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">word_tokenizer</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">tokenize</span><span class="o">.</span><span class="n">regexp</span><span class="o">.</span><span class="n">WordPunctTokenizer</span><span class="p">()</span>

<span class="n">tokenized_sentence</span> <span class="o">=</span> <span class="n">word_tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">sentences</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">tokenized_sentence</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">sentences</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">" "</span><span class="p">))</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['Topics', 'to', 'be', 'covered', 'include', 'part', '-', 'of', '-', 'speech', 'tagging', ',', 'n', '-', 'gram', 'language', 'modelling', ',', 'syntactic', 'parsing', 'and', 'deep', 'learning', '.']
['Topics', 'to', 'be', 'covered', 'include', 'part-of-speech', 'tagging,', 'n-gram', 'language', '', 'modelling,', 'syntactic', 'parsing', 'and', 'deep', 'learning.']
</code></pre></div></div>

<p>The NLTK tokenizer correctly splits off commas and periods from the ends of words. It also splits up the hyphenated word â€œpart-of-speechâ€, which might be the right behavior for some applications, but not for others.</p>

<p>Letâ€™s try out lemmatization. NLTK has a lemmatizer, though using it requires that we know the part of speech of the word. In this case, weâ€™ll just try verb lemmatization, and if doesnâ€™t change the word, weâ€™ll try noun.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s">'wordnet'</span><span class="p">)</span>
<span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">wordnet</span><span class="o">.</span><span class="n">WordNetLemmatizer</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">lemmatize</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
    <span class="n">lemma</span> <span class="o">=</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">word</span><span class="p">,</span><span class="s">'v'</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">lemma</span> <span class="o">==</span> <span class="n">word</span><span class="p">:</span>
        <span class="n">lemma</span> <span class="o">=</span> <span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">word</span><span class="p">,</span><span class="s">'n'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">lemma</span>

<span class="k">print</span><span class="p">([</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized_sentence</span><span class="p">])</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[nltk_data] Downloading package wordnet to /Users/laujh/nltk_data...
[nltk_data]   Package wordnet is already up-to-date!


['Topics', 'to', 'be', 'cover', 'include', 'part', '-', 'of', '-', 'speech', 'tag', ',', 'n', '-', 'gram', 'language', 'model', ',', 'syntactic', 'parse', 'and', 'deep', 'learn', '.']
</code></pre></div></div>

<p>Compare this to the result of stemming using the Porter Stemmer:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stemmer</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">porter</span><span class="o">.</span><span class="n">PorterStemmer</span><span class="p">()</span>
<span class="k">print</span><span class="p">([</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokenized_sentence</span><span class="p">])</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['topic', 'to', 'be', 'cover', 'includ', 'vector', 'space', 'model', ',', 'part', '-', 'of', '-', 'speech', 'tag', ',', 'n', '-', 'gram', 'languag', 'model', ',', 'syntact', 'pars', 'and', 'neural', 'sequenc', 'model', '.']
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

:ET